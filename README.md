# suttda_game

20장의 화투패에서 각자 총 3장의 카드를 받고 배팅하여 누가 족보가 더 높은지로 승부하는 게임입니다. 각자 처음에 2장의 패를 받고 배팅한 후 1장을 더 받고나서 마지막으로 어떠한 족보를 선택할지 고릅니다. 

server 스크립트 server2.py, client 스크립트 client2.py, client_window2.py, 데이터베이스와 연동하기 위한 모듈 use_DB2.py, 게임 족보를 위한 모듈 game_tool2.py,  


# 개발 환경

ㆍPython 3.7
 
ㆍpickle
 
ㆍPyQt5

ㆍQt designer

ㆍMySQL 5.7

ㆍPycharm


# 실행 방법
코드에 있던 제 ip를 1xx.xxx.xxx.xxx 로 변경해두었습니다. server와 client 스크립트, use_DB 모듈의 ip 부분을 환경에 맞게 설정해주어야 합니다. 
server 스크립트를 실행하고 터미널에서 1을 입력하여 서버를 구동합니다.
server가 켜지면 client_window2 스크립트를 실행하여 게임에 접속합니다. 


# 명령어 코드
서버와 클라이언트가 주고 받는 메시지는 pickle이나 텍스트입니다. 
pickle의 경우 첫 번째 값은 status_code로 각 메시지가 하는 역할을 나타내기 위한 고유 번호입니다. 나머지는 전송하고자 하는 데이터입니다. 
텍스트의 경우 사용자가 채팅창으로 대화할때 사용됩니다. 

-----------------------------------------------------------------------------------------------------------------------------------------
서버 측이 받는 pickle 메시지의 status_code가

ㆍ1  : client의 준비 취소 요청

ㆍ2  : client의 준비 요청

ㆍ3  : 가장 처음 들어온 client의 게임 시작 요청

ㆍ45  : 처음에 공개할 카드를 선택하는 요청

ㆍ46  : 마지막에 어떤 패를 낼지 정하는 요청

ㆍ200  : client의 콜 요청

ㆍ300  : client의 다이 요청



-----------------------------------------------------------------------------------------------------------------------------------------
클라이언트 측이 받는 pickle 메시지의 status_code가

ㆍ51  : server의 게임 시작을 알리는 메시지

ㆍ52  : server에 client가 입장하였을때 client의 정보를 전송

ㆍ53  : client에게 게임 도중임을 알리는 메시지

ㆍ61  : 각 client에게 카드 전달

ㆍ62  : 공개할 카드 선택 후 다시 카드 전달

ㆍ63  : 판돈과 client의 게임머니를 갱신해주는 메시지

ㆍ64  : 게임판을 초기화하라는 메시지

ㆍ71  : 승부보는 상황

ㆍ72  : 마지막 승부보는 상황

ㆍ73  : 게임종료를 알리는 메시지

ㆍ74  : 무승부를 알리는 메시지








# 게임 장면
client window 스크립트를 실행하면 처음 등장하는 화면입니다. 회원가입으로 MySQL server에 계정을 등록하고 성공하면 로그인하여 게임을 실행할 수 있습니다. MySQL server나 server 스크립트가 동작중이지 않으면 게임이 실행되지 않습니다.
![1](https://user-images.githubusercontent.com/66295630/111123080-3da79d80-85b2-11eb-87e8-b0f9625e0823.png)
![2](https://user-images.githubusercontent.com/66295630/111123084-3e403400-85b2-11eb-9304-bd79e0da7de6.png)

-------------------------------------------
게임 중인 화면입니다. 오른쪽 하단에 있는 채팅창을 이용하여 유저들과 대화할 수 있습니다. 
오른쪽 상단의 족보 보기를 통해 족보를 확인할 수 있습니다.

![3](https://user-images.githubusercontent.com/66295630/111122580-9460a780-85b1-11eb-95ce-22f02dd80beb.PNG)
![4](https://user-images.githubusercontent.com/66295630/111122584-9591d480-85b1-11eb-91dd-242034f7177d.PNG)
![5](https://user-images.githubusercontent.com/66295630/111122587-962a6b00-85b1-11eb-986a-5236721c0a05.PNG)
![6](https://user-images.githubusercontent.com/66295630/111122590-96c30180-85b1-11eb-854a-fe368c18a25a.PNG)


